<!DOCTYPE html>
<html>
    <head>
        <title>Jokenpo!</title>
    </head>
    <body>
        <h1>Rock Paper Scissors</h1>
        <input type="button" value="rock" onclick="
            jokenpo('rock', randomNumber);
        ">
        <input type="button" value="paper" onclick="
            jokenpo('paper', randomNumber);
        ">
        <input type="button" value="scissors" onclick="
            jokenpo('scissors', randomNumber);
        ">   
        <input type="button" value="Reset score" onclick="
            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
        ">
    </body>
    <script>
        const score = JSON.parse(localStorage.getItem('score'))
        let randomNumber = -1;
        let computerMove = '';
  

        function jokenpo(plrMove, randnum){
            randomNumber = Math.random();
            let result = '';
            if (plrMove == 'rock') {
                if (randnum <= 1/3) {
                    pcMove = 'rock';
                    result = 'Tie!'
                    score.ties += 1;
                } else if (1/3 < randnum && randnum <= 2/3) {
                    pcMove = 'paper';
                    result = 'You Lose!';
                    score.losses += 1;
                } else if (randnum > 2/3) {
                    pcMove = 'Scissors';
                    result = 'You Win!';
                    score.wins += 1;
                }

            } else if (plrMove == 'paper') {
                if (randnum <= 1/3) {
                    pcMove = 'rock';
                    result = 'You Win!';
                    score.wins += 1;
                } else if (1/3 < randnum && randnum <= 2/3) {
                    pcMove = 'paper';
                    result = 'Tie!'
                    score.ties += 1;
                } else if (randnum > 2/3) {
                    pcMove = 'Scissors';
                    result = 'You Lose!';
                    score.losses += 1;
                }

            } else if (plrMove == 'scissors') {
                if (randnum <= 1/3) {
                    pcMove = 'rock';
                    result = 'You Lose!';
                    score.losses += 1;
                } else if (1/3 < randnum && randnum <= 2/3) {
                    pcMove = 'paper';
                    result = 'You Win!';
                    score.wins += 1;
                } else if (randnum > 2/3) {
                    pcMove = 'Scissors';
                    result = 'Tie!'
                    score.ties += 1;
                }
            }
            localStorage.setItem('score', JSON.stringify(score));
            alert(`You picked ${plrMove}. Computer picked ${pcMove}. ${result}
Wins: ${score.wins}, Losses ${score.losses}, ties ${score.ties}`)
        };
    </script>
</html>